{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { setErrorApp } from \"./app_reducer\";\nconst initialState = {\n  display_value: '0',\n  buttons: [{\n    id: 1,\n    val: '1'\n  }, {\n    id: 2,\n    val: '2'\n  }, {\n    id: 3,\n    val: '3'\n  }, {\n    id: 4,\n    val: '4'\n  }, {\n    id: 5,\n    val: '5'\n  }, {\n    id: 6,\n    val: '6'\n  }, {\n    id: 7,\n    val: '7'\n  }, {\n    id: 8,\n    val: '8'\n  }, {\n    id: 9,\n    val: '9'\n  }, {\n    id: 0,\n    val: '0'\n  }, {\n    id: 10,\n    val: ','\n  }],\n  operators: [{\n    id: 11,\n    val: '/'\n  }, {\n    id: 12,\n    val: '*'\n  }, {\n    id: 13,\n    val: '+'\n  }, {\n    id: 14,\n    val: '-'\n  }]\n};\nexport const CalcThunk = createAsyncThunk('calculator/CalcThunk', (val, _ref) => {\n  let {\n    getState,\n    dispatch\n  } = _ref;\n  try {\n    const {\n      calc\n    } = getState();\n    calc.display_value.length > 8 ? dispatch(setErrorApp({\n      error: 'dispaly a long'\n    })) : dispatch(displayShow({\n      val\n    }));\n  } catch (e) {\n    // const err = e as Error | AxiosError\n    // handleError(err, thunkAPI.dispatch)\n    // thunkAPI.dispatch(setStatusApp({ status: 'failed' }))\n  }\n});\nexport const MathCoutingThunk = createAsyncThunk('calculator/MathCoutingThunk', (_ref2, _ref3) => {\n  let {\n    id,\n    first_val\n  } = _ref2;\n  let {\n    getState,\n    dispatch\n  } = _ref3;\n  try {\n    const {\n      calc\n    } = getState();\n    const newId = id;\n    const newFirstVal = first_val;\n    console.log(newId);\n    console.log(newFirstVal);\n    const operator = calc.operators.filter(e => e.id === id);\n    console.log(operator);\n    const summ = Number(newFirstVal);\n  } catch (e) {\n    // const err = e as Error | AxiosError\n    // handleError(err, thunkAPI.dispatch)\n    // thunkAPI.dispatch(setStatusApp({ status: 'failed' }))\n  }\n});\nconst slice = createSlice({\n  name: 'calculator',\n  initialState,\n  reducers: {\n    displayShow(state, action) {\n      state.display_value = state.display_value === '0' ? action.payload.val : state.display_value + action.payload.val;\n    },\n    math_counting(state, action) {}\n  }\n});\nexport const CalculatorReducer = slice.reducer;\nexport const {\n  math_counting,\n  displayShow\n} = slice.actions;","map":{"version":3,"names":["createAsyncThunk","createSlice","setErrorApp","initialState","display_value","buttons","id","val","operators","CalcThunk","_ref","getState","dispatch","calc","length","error","displayShow","e","MathCoutingThunk","_ref2","_ref3","first_val","newId","newFirstVal","console","log","operator","filter","summ","Number","slice","name","reducers","state","action","payload","math_counting","CalculatorReducer","reducer","actions"],"sources":["/Users/macbook/calculator_dnd/calc_dnd/src/state_manager/reducers/calc_reducer.ts"],"sourcesContent":["import { PayloadAction, createAsyncThunk, createSlice } from \"@reduxjs/toolkit\"\nimport { setErrorApp } from \"./app_reducer\"\nimport { AppRootStateType } from \"../store\"\n\ntype MathType = {\n    id: number\n    first_val: number\n}\ntype button = {\n    id: number\n    val: string\n}\nexport type initialStateType = {\n    display_value: string\n    buttons: Array<button>\n    operators: Array<button>\n}\n\nconst initialState: initialStateType = {\n    display_value: '0',\n    buttons: [\n        { id: 1, val: '1' },\n        { id: 2, val: '2' },\n        { id: 3, val: '3' },\n        { id: 4, val: '4' },\n        { id: 5, val: '5' },\n        { id: 6, val: '6' },\n        { id: 7, val: '7' },\n        { id: 8, val: '8' },\n        { id: 9, val: '9' },\n        { id: 0, val: '0' },\n        { id: 10, val: ',' }\n    ],\n    operators: [\n        { id: 11, val: '/' },\n        { id: 12, val: '*' },\n        { id: 13, val: '+' },\n        { id: 14, val: '-' },\n\n    ]\n\n}\n\nexport const CalcThunk = createAsyncThunk('calculator/CalcThunk', (val: string, { getState, dispatch }) => {\n    try {\n        const { calc } = getState() as AppRootStateType\n        calc.display_value.length > 8 ? dispatch(setErrorApp({ error: 'dispaly a long' })) : dispatch(displayShow({ val }))\n    }\n    catch (e) {\n        // const err = e as Error | AxiosError\n        // handleError(err, thunkAPI.dispatch)\n        // thunkAPI.dispatch(setStatusApp({ status: 'failed' }))\n    }\n})\n\n\nexport const MathCoutingThunk = createAsyncThunk('calculator/MathCoutingThunk',\n    ({ id, first_val }: MathType, { getState, dispatch }) => {\n        try {\n            const { calc } = getState() as AppRootStateType\n            const newId = id\n            const newFirstVal = first_val\n            console.log(newId);\n            console.log(newFirstVal);\n            const operator = calc.operators.filter(e => e.id === id)\n            console.log(operator);\n\n            const summ = Number(newFirstVal)\n\n        }\n        catch (e) {\n            // const err = e as Error | AxiosError\n            // handleError(err, thunkAPI.dispatch)\n            // thunkAPI.dispatch(setStatusApp({ status: 'failed' }))\n        }\n    })\n\nconst slice = createSlice({\n    name: 'calculator',\n    initialState,\n    reducers: {\n        displayShow(state, action: PayloadAction<{ val: string }>) {\n            state.display_value = state.display_value === '0' ? action.payload.val : state.display_value + action.payload.val\n        },\n        math_counting(state, action: PayloadAction<{}>) {\n\n        }\n    }\n})\n\nexport const CalculatorReducer = slice.reducer\nexport const { math_counting, displayShow } = slice.actions\n\nexport type CalcActionsType = MathCountType | DisplayShow\nexport type MathCountType = ReturnType<typeof math_counting>\nexport type DisplayShow = ReturnType<typeof displayShow>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}